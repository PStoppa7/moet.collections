<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Moeti Collections - Sneakers, iPhones, Curtains, Carpets & More</title>
<meta name="description" content="Shop Moeti Collections for sneakers, iPhones, frontals, curtains, carpets, blankets, clothes, perfumes, and more. Best prices. Fast delivery." />
<meta property="og:title" content="Moeti Collections - Shop Now" />
<meta property="og:description" content="Top deals on sneakers, electronics, home goods and more." />
<meta property="og:image" content="https://yourdomain.com/images/logo.jpg" />
<meta property="og:url" content="https://yourdomain.com/" />
<meta name="twitter:card" content="summary_large_image" />
  <style>
    body.dark {
      background-color: #121212;
      color: #e0e0e0;
    }
    body.dark .navbar,
    body.dark footer {
      background-color: #1e1e1e;
    }
    body.dark .nav-links a {
      color: #e0e0e0;
    }
    body.dark .product {
      background-color: #1e1e1e;
      color: #e0e0e0;
      border-color: #333;
    }
    .product {
      background: #fff;
      padding: 1rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .product:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    #dark-mode-toggle {
      background: none;
      border: 2px solid #fff;
      color: #fff;
      padding: 0.4rem 0.6rem;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9rem;
      margin-left: 1rem;
      transition: background 0.3s ease;
    }
    #dark-mode-toggle:hover {
      background-color: #333;
    }
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: Arial, sans-serif;
    }
    body {
      background-color: #f9f9f9;
      color: #333;
      line-height: 1.6;
      margin-top: 60px; /* to avoid content under fixed navbar */
    }
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #111;
      padding: 1rem;
      color: #fff;
      flex-wrap: wrap;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 999;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.2rem;
      font-weight: bold;
    }
    .logo img {
      height: 40px;
      width: auto;
      object-fit: contain;
    }
    .hamburger {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 4px;
    }
    .hamburger span {
      width: 25px;
      height: 3px;
      background: #fff;
      transition: all 0.3s ease;
    }
    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }
    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -5px);
    }
    .nav-links {
      display: flex;
      gap: 1rem;
      list-style: none;
    }
    .nav-links a {
      color: #fff;
      text-decoration: none;
      font-size: 0.95rem;
    }
    .cart-icon {
      font-size: 1.2rem;
      cursor: pointer;
      position: relative;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .dropdown-arrow {
      font-size: 0.8rem;
      color: #fff;
      transition: transform 0.3s ease;
    }
    #cart-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: white;
      color: black;
      width: 100vw;
      max-width: 300px;
      max-height: 300px;
      overflow-y: auto;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 1rem;
      z-index: 1000;
    }
    #cart-dropdown p.empty {
      text-align: center;
      color: #666;
    }
    #cart-dropdown ul {
      list-style: none;
      padding-left: 0;
      margin-bottom: 0.5rem;
    }
    #cart-dropdown ul li {
      margin-bottom: 0.5rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.3rem;
    }
    #cart-dropdown strong {
      display: block;
      margin-top: 0.5rem;
      text-align: right;
    }
    #product-search {
      width: 90%;
      max-width: 400px;
      padding: 0.5rem;
      margin: 1rem auto;
      display: block;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
    }
    .product-category {
      padding: 2rem 1rem;
    }
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }
    .product {
      background: #fff;
      padding: 1rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      text-align: center;
      transition: box-shadow 0.3s ease;
    }
    .product:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .product img {
      width: 100%;
      max-width: 220px;
      height: auto;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius: 8px;
      margin: 0 auto;
      display: block;
    }
    .checkout {
      padding: 2rem 1rem;
      background: #fff;
      border-top: 2px solid #ddd;
    }
    #checkout-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-width: 500px;
      margin: auto;
    }
    #checkout-form textarea {
      height: 100px;
      padding: 0.5rem;
      resize: none;
    }
    #checkout-form input,
    #checkout-form button {
      padding: 0.75rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #checkout-form button {
      background: #111;
      color: #fff;
      cursor: pointer;
    }
    footer {
      background: #111;
      color: #fff;
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
    }
    footer a {
      color: #1da1f2;
      text-decoration: none;
    }
    #total-price {
      font-weight: bold;
      margin-top: 0.5rem;
    }
    @media (max-width: 768px) {
      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #111;
        position: static;
        top: 100%;
        left: 0;
        padding: 1rem 0;
        z-index: auto;
      }
      #cart-dropdown {
        right: 0.5rem;
        width: calc(100vw - 1rem);
      }
      .nav-links.show {
        display: flex;
      }
      .hamburger {
        display: flex;
      }
    }
    @media (max-width: 768px) {
      .product img {
        max-width: 120px;
      }
    }
    .payment-methods {
      margin: 2rem 0;
      text-align: center;
    }
    .payment-methods h3 {
      margin-bottom: 1rem;
      font-size: 1.15em;
    }
    .payment-icons {
      list-style: none;
      padding: 0;
      margin: 0;
      display: inline-flex;
      flex-wrap: wrap;
      gap: 18px;
      align-items: center;
      justify-content: center;
    }
    .payment-icons li {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .payment-icons img {
      height: 32px;
      width: auto;
      vertical-align: middle;
    }
    .spinner {
      margin: 0 auto;
      border: 6px solid #f3f3f3;
      border-top: 6px solid #3a3a3a;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0%   { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
  </style>
</head>
<body>
  <header class="navbar">
    <div class="logo">
      <img src="/images/logo.jpg" alt="Moeti Collections Logo" />
      Moeti Collections
    </div>
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <nav>
      <ul class="nav-links" id="navLinks">
        <li><a href="#sneakers">Sneakers</a></li>
        <li><a href="#iphones">iPhones</a></li>
        <li><a href="#frontals">Frontals</a></li>
        <li><a href="#curtains">Curtains</a></li>
        <li><a href="#carpets">Carpets</a></li>
        <li><a href="#blankets">Blankets</a></li>
        <li><a href="#clothes">Clothes</a></li>
        <li><a href="#perfumes">Perfumes</a></li>
      </ul>
    </nav>
    <div class="cart-icon" id="cart-toggle">üõí <span id="cart-count">0</span> <span class="dropdown-arrow">‚ñº</span></div>
    <div id="cart-dropdown">
      <ul id="cart-items"></ul>
      <p id="cart-empty-msg" class="empty">Your cart is empty.</p>
      <strong id="total-price">Total: R0</strong>
    </div>
    <button id="dark-mode-toggle">üåì</button>
  </header>
  <main>
    <input type="text" id="product-search" placeholder="Search products..." />
    <div id="categories-container"></div>
  </main>
  <section class="checkout">
    <div id="loading" style="display:none; text-align:center;">
      <div class="spinner"></div>
      <div style="margin-top:10px; color:#333;">Processing your order...</div>
    </div>
    <form id="checkout-form" method="POST" enctype="multipart/form-data" autocomplete="off">
      <h2>Checkout</h2>
      <input type="email" name="email" placeholder="Your email" required />
      <textarea name="cartDetails" id="cart-details" hidden></textarea>
      <textarea id="special-instructions" name="specialInstructions" placeholder="Any special instructions?"></textarea>
      <input type="file" id="upload-image" name="uploadImage" accept="image/*" required />
      <button type="submit">Place Order</button>
    </form>
  </section>
  <div class="payment-methods">
    <h3>We Accept the Following Payment Methods:</h3>
    <ul class="payment-icons">
      <li><img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg" alt="Visa" title="Visa"></li>
      <li><img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" alt="Mastercard" title="Mastercard"></li>
      <li><span style="font-size:1.1em;">üíµ</span> Cash on Delivery</li>
      <li><span style="font-size:1.1em;">üè¶</span> Bank Transfer</li>
    </ul>
  </div>
  <footer>
    &copy; 2025 Moeti Collections. Follow us on
    <a href="https://instagram.com/moeticollections" target="_blank" rel="noopener noreferrer">Instagram</a>
    created by @Phenyo Dev webhosthub.com
  </footer>
  <script>
    // Hamburger toggle
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    const main = document.querySelector('main');
    const cartToggle = document.getElementById('cart-toggle');

    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      navLinks.classList.toggle('show');
      if (navLinks.classList.contains('show')) {
        main.style.marginTop = navLinks.offsetHeight + 'px';
      } else {
        main.style.marginTop = '0';
      }
    });

    // Dark mode toggle
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    darkModeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
    });

    // Sample products data
    const products = [
      {
        category: 'Sneakers',
        items: [
          { name: 'Nike Air Max 90', price: 1500, image: 'images/sneakers/sneaker1.jpg ' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker2.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker3.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker4.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker5.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker6.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker7.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker8.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker9.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker10.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker11.jpg' },
          { name: 'Adidas Ultraboost', price: 1800, image: 'images/sneakers/sneaker12.jpg' }
        ]
      },
      {
        category: 'iPhones',
        items: [
          { name: 'iPhone 7<br> 32GB', price: 3000, image: 'images/iphone-7.jpg' },
          { name: 'iPhone 7plus 32GB', price: 3600, image: 'images/iphone-7-plus.jpg' },
           { name: 'iPhone 7+ 128GB', price: 4000, image: 'images/apple-iphone-7.png' },
          { name: 'Iphone 8<br> 64GB', price: 3700, image: 'images/iphon8.webp' },
          { name: 'Iphone 8plus<br>64GB', price: 4400, image: 'images/iphone8.webp' },
          { name: 'Iphone XR 128GB', price: 5300, image: 'images/iPhone-XR1.webp' },
          { name: 'Iphone X<br> 64GB', price: 4900, image: 'images/iphone_x.png' },
          { name: 'Iphone XR 64GB', price: 5100, image: 'images/iphone_xr2.webp' },
          { name: 'Iphone 11 64GB', price: 5900, image: 'images/iphone11.webp' },
          { name: 'Iphone 11 128GB', price: 6200, image: 'images/iphone11.webp' },
          { name: 'Iphone 11 pro 64GB', price: 8300, image: 'images/iphone11_pro.webp' },
          { name: 'Iphone 11 pro-max 64GB', price: 8900, image: 'images/iphone11_pro_max.webp' },
          { name: 'Iphone 12 64GB', price: 7500, image: 'images/iphone12.webp' },
          { name: 'Iphone 12 pro 128GB', price: 12000, image: 'images/iphone12_pro.webp' },
          { name: 'Iphone 12 pro-max 128GB', price: 13800, image: 'images/iphone12_pro_max.webp' },
            { name: 'Iphone 13 128GB', price: 12750, image: 'images/iphone13.webp' },
              { name: 'Iphone 13 pro 128GB', price: 15300, image: 'images/iphone13_pro.webp' },
                { name: 'Iphone13 pro-max 128GB', price: 16400, image: 'images/iphone13_promax.webp' }
        ]
      },
      {
        category: 'Frontals',
        items: [
          { name: 'Beautiful classic lace curly frontal, Perfect for versatile styling', price: 25000, image: 'images/front1.jpg' },
          { name: 'Luxurious deep wave lace frontal with soft,defined curls with natural look .', price: 12000, image: 'images/frontal2.jpg' },
           { name: 'Full, voluminous curls for an effortlessly glamorous appearance.', price: 25000, image: 'images/frontal3.jpg' },
          { name: 'Natural wave lace frontal offers both softness and style. Ideal stunning finish', price: 12000, image: 'images/frontal4.jpg' },
           { name: 'Achieve big, bouncy curls with this premium frontal. Designed for a full, lively look.', price: 25000, image: 'images/frontal5.jpg' },
          { name: 'Defined deep wave pattern for an on-trend and natural style. Easy to blend and maintain.', price: 12000, image: 'images/frontal6.jpg' },
           { name: 'Turn heads with this curly lace frontal. Soft, natural curls perfect for any occasion.', price: 25000, image: 'images/frontal7.jpg' },
          { name: 'Water wave texture with a lace base for easy installation and a realistic hairline.', price: 12000, image: 'images/frontal8.jpg' },
           { name: 'Tightly coiled curls for a bold and beautiful style. Matches well with natural hair textures.', price: 25000, image: 'images/frontal9.jpg' },
          { name: 'Soft and touchable curls with a natural finish.<br> The perfect premium base for  styling.', price: 12000, image: 'images/frontal10.jpg' },
           { name: 'Natural black color with defined curls for an authentic, elegant look and style.', price: 25000, image: 'images/frontal11.jpg' },
          { name: 'Loose wave pattern offers body and flexibility. Great for daily wear or special events.', price: 12000, image: 'images/frontal12.jpg' },
           { name: 'Premium style lace frontal for a flawless,stunning luxury finish. Lightweight and breathable.', price: 25000, image: 'images/frontal13.jpg' },
          { name: 'Experience maximum volume <br>and bounce<br> with this full style curly frontal.', price: 12000, image: 'images/frontal14.jpg' },
           { name: 'Soft body wave lace frontal with a relaxed, natural flow. Perfect to blend with any style.', price: 25000, image: 'images/frontal15.jpg' },
          { name: 'Classic deep wave pattern that blends seamlessly and stays looking fresh all day long.', price: 12000, image: 'images/frontal16.jpg' },
           { name: 'Defined, springy curls for a youthful, energetic look. Easy to style and maintain', price: 25000, image: 'images/frontal17.jpg' },
          { name: 'Premium deep wave frontal with a natural sheen and beautiful movement.', price: 12000, image: 'images/frontal18.jpg' },
           { name: 'Luxury water wave lace frontal for a soft, wavy finish with natural shine', price: 25000, image: 'images/frontal19.jpg' },
          { name: 'Natural curly lace frontal for a seamless blend and undetectable hairline', price: 12000, image: 'images/frontal21.jpg' },
          { name: 'HD lace   frontal with soft,<br> realistic curls.<br> Ultra-thin lace for an invisible comfort style look.', price: 12000, image: 'images/frontal22.webp' },
          { name: 'HD lace deep wave frontal for the ultimate in natural appearance and comfort for your hair.', price: 12000, image: 'images/frontal23.webp' },
          { name: 'Water wave frontal with a fresh, wavy texture. Effortless style and easy maintenance.', price: 12000, image: 'images/10-water_weave.jpg' },
          { name: '99J color pixie cut frontal for a bold, modern look.<br> Rich color meets easy styling.', price: 12000, image: 'images/99j_Pixie_cut.jpg' },
          { name: '350 color pixie cut lace frontal ‚Äì bright, stylish, and easy to wear for any occasion.', price: 12000, image: 'images/350_pixie_cut.jpg' },
          { name: 'Piano Jerry curly frontal with a bouncy, vibrant curl pattern and highlighted tones.', price: 12000, image: 'images/Piano Jerry curly.jpg' },
          { name: 'Classic pixie cut lace frontal for a sleek, vibrant<br>short style with a natural hairline.', price: 12000, image: 'images/Pixie_cut.jpg' },
          { name: 'Straight closure wig for a timeless, sleek appearance and easy everyday wear.', price: 12000, image: 'images/straight_closure wig.jpg' },
          { name: 'Natural water wave frontal with soft, flowing waves and a comfortable fit.', price: 12000, image: 'images/water_weave.jpg' },
          { name: 'Classic curly lace frontal for defined, springy curls and a flawless hairline.', price: 12000, image: 'images/curly.jpg' }
        ]
      },
      {
        category: 'Curtains',
        items: [
          { name: '', price: 25000, image: 'images/curtian1.jpg' },
          { name: '', price: 12000, image: 'images/curtain2.jpg' },
          { name: '', price: 25000, image: 'images/curtain3.jpg' },
          { name: '', price: 12000, image: 'images/curtain4.jpg' },
          { name: '', price: 25000, image: 'images/curtain5.jpg' },
          { name: '', price: 12000, image: 'images/curtain6.jpg' },
          { name: '', price: 25000, image: 'images/curtain7.jpg' },
          { name: '', price: 12000, image: 'images/curtain8.jpg' },
          { name: '', price: 25000, image: 'images/curtain9.jpg' },
          { name: '', price: 12000, image: 'images/curtain10.jpg' },
          { name: '', price: 25000, image: 'images/curtain11.jpg' },
          { name: '', price: 12000, image: 'images/curtain12.jpg' },
          { name: '', price: 25000, image: 'images/curtain13.jpg' },
          { name: '', price: 12000, image: 'images/curtain14.jpg' },
          { name: '', price: 25000, image: 'images/curtain15.jpg' },
          { name: '', price: 12000, image: 'images/curtain16.jpg' },
          { name: '', price: 25000, image: 'images/curtain17.jpg' }
          
        ]
      },
      {
        category: 'Carpets',
        items: [
          { name: '3D mat set', price: 200, image: 'images/mat1.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat2.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat3.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat4.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat5.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat6.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat7.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat8.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat9.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat10.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat11.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat12.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat13.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat14.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat15.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat16.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat17.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat18.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat19.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat20.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat21.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat22.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat23.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat24.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat25.jpg' },
          { name: '3D mat set', price: 200, image: 'images/mat26.jpg' },
           { name: '3D mat set', price: 200, image: 'images/mat27.jpg' },
            { name: '3D mat set', price: 200, image: 'images/mat28.jpg' },
             { name: '3D mat set', price: 200, image: 'images/mat29.jpg' },
              { name: '3D mat set', price: 200, image: 'images/mat30.jpg' },
               { name: '3D mat set', price: 200, image: 'images/mat31.jpg' },
                { name: '3D mat set', price: 200, image: 'images/mat32.jpg' },
                 { name: '3D mat set', price: 200, image: 'images/mat33.jpg' },
                  { name: '3D mat set', price: 200, image: 'images/mat34.jpg' },
                   { name: '3D mat set', price: 200, image: 'images/mat35.jpg' },
                    { name: '3D mat set', price: 200, image: 'images/mat36.jpg' }
        ]
      },
      { category:'Comfoters',
        items:[
          {name:'', price:200, image: 'images/comforter1.jpg'},
           {name:'',price:200,image:'images/comforter2.jpg'},
            {name:'',price:200,image:'images/comforter3.jpg'},
             {name:'',price:200,image:'images/comforter4.jpg'},
              {name:'',price:200,image:'images/comforter5.jpg'},
               {name:'',price:200,image:'images/comforter6.jpg'},
           {name:'',price:200,image:'images/comforter7.jpg'},
            {name:'',price:200,image:'images/comforter8.jpg'},
             {name:'',price:200,image:'images/comforter9.jpg'},
              {name:'',price:200,image:'images/comforter10.jpg'},
               {name:'',price:200,image:'images/comforter11.jpg'},
           {name:'',price:200,image:'images/comforter12.jpg'},
            {name:'',price:200,image:'images/comforter13.jpg'},
             {name:'',price:200,image:'images/comforter14.jpg'},
              {name:'',price:200,image:'images/comforter15.jpg'},
               {name:'',price:200,image:'images/comforter16.jpg'},
           {name:'',price:200,image:'images/comforter17.jpg'},
            {name:'',price:200,image:'images/comforter18.jpg'},
             {name:'',price:200,image:'images/comforter19.jpg'},
              {name:'',price:200,image:'images/comforter20.jpg'},
               {name:'',price:200,image:'images/comforter21.jpg'},
           {name:'',price:200,image:'images/comforter22.jpg'},
            {name:'',price:200,image:'images/comforter23.jpg'},
             {name:'',price:200,image:'images/comforter24.jpg'},
              {name:'',price:200,image:'images/comforter25.jpg'},
               {name:'',price:200,image:'images/comforter26.jpg'},
           {name:'',price:200,image:'images/comforter27.jpg'},
            {name:'',price:200,image:'images/comforter28.jpg'},
             {name:'',price:200,image:'images/comforter29.jpg'},
              {name:'',price:200,image:'images/comforter30.jpg'},
               {name:'',price:200,image:'images/comforter31.jpg'},
           {name:'',price:200,image:'images/comforter32.jpg'},
            {name:'',price:200,image:'images/comforter33.jpg'},
             {name:'',price:200,image:'images/comforter34.jpg'},
              {name:'',price:200,image:'images/comforter35.jpg'},
               {name:'',price:200,image:'images/comforter36.jpg'},
           {name:'',price:200,image:'images/comforter37.jpg'},
            {name:'',price:200,image:'images/comforter38.jpg'},
             {name:'',price:200,image:'images/comforter39.jpg'},
              {name:'',price:200,image:'images/comforter40.jpg'},
               {name:'',price:200,image:'images/comforter41.jpg'},
           {name:'',price:200,image:'images/comforter42.jpg'},
            {name:'',price:200,image:'images/comforter43.jpg'},
             {name:'',price:200,image:'images/comforter44.jpg'},
              {name:'',price:200,image:'images/comforter45.jpg'},
               {name:'',price:200,image:'images/comforter46.jpg'},
           {name:'',price:200,image:'images/comforter7.jpg'},
            {name:'',price:200,image:'images/comforter48.jpg'},
             {name:'',price:200,image:'images/comforter49.jpg'},
              {name:'',price:200,image:'images/comforter50.jpg'}
            ]
      },
      {
        category: 'Blankets',
        items: [
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket1.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket2.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket3.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket4.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket5.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket6.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket7.jpg' },
          { name: 'Luxurious Sherpa blankets.Luxurious Sherpa Blankets Warm,Heavy and Perfect for any home', price: 480, image: 'images/blanket8.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket9.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket10.jpg' },  
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket11.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket12.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket13.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket14.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket15.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket16.jpg' },
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket17.jpg'},
          { name: 'Luxurious Valvet Sherpa Fleece Blanket.<br>size:Super king(200X230)', price: 340, image: 'images/blanket18.jpg'}
         
        ]
      },
      {
        category: 'Clothes',
        items: [
          { name: 'iPhone 14 Pro Max', price: 25000, image: 'https://upload.wikimedia.org/wikipedia/commons/3/31/IPhone_14_Pro_Max_PNG.png' },
          { name: 'iPhone SE (2022)', price: 12000, image: 'https://upload.wikimedia.org/wikipedia/commons/e/e6/IPhone_SE_2022.png' }
        ]
      },
      {
        category: 'Perfumes',
        items: [
          { name: 'iPhone 14 Pro Max', price: 25000, image: 'https://upload.wikimedia.org/wikipedia/commons/3/31/IPhone_14_Pro_Max_PNG.png' },
          { name: 'iPhone SE (2022)', price: 12000, image: 'https://upload.wikimedia.org/wikipedia/commons/e/e6/IPhone_SE_2022.png' }
        ]
      }
    ];

    const categoriesContainer = document.getElementById('categories-container');
    const cartDropdown = document.getElementById('cart-dropdown');
    const cartCount = document.getElementById('cart-count');
    const productSearch = document.getElementById('product-search');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function renderCategories(filterText = '') {
      categoriesContainer.innerHTML = '';

      if (filterText.trim() === '') {
        // No search: show all categories as usual
        products.forEach(category => {
          if (!category.items || category.items.length === 0) return;
          const categorySection = document.createElement('section');
          categorySection.className = 'product-category';
          categorySection.id = category.category.toLowerCase();
          const heading = document.createElement('h2');
          heading.textContent = category.category;
          categorySection.appendChild(heading);
          const productList = document.createElement('div');
          productList.className = 'product-list';
          category.items.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.className = 'product';
            productDiv.innerHTML = `
              <img src="${product.image}" alt="${product.name}" />
              <h3>${product.name}</h3>
              <p>Price: R${product.price.toLocaleString()}</p>
              <button class="add-to-cart">Add to Cart</button>
            `;
            productDiv.querySelector('.add-to-cart').addEventListener('click', () => {
              addToCart(product);
            });
            productList.appendChild(productDiv);
          });
          categorySection.appendChild(productList);
          categoriesContainer.appendChild(categorySection);
        });
      } else {
        // Search: show all matches in a "Search Results" section
        let matches = [];
        products.forEach(category => {
          if (!category.items) return;
          category.items.forEach(product => {
            if (product.name.toLowerCase().includes(filterText.toLowerCase())) {
              matches.push({ ...product, category: category.category });
            }
          });
        });

        if (matches.length === 0) {
          categoriesContainer.innerHTML = "<p style='padding:2rem;text-align:center;'>No products match your search.</p>";
          return;
        }

        const resultsSection = document.createElement('section');
        resultsSection.className = 'product-category';
        resultsSection.id = 'search-results';
        const heading = document.createElement('h2');
        heading.textContent = `Search Results (${matches.length})`;
        resultsSection.appendChild(heading);
        const productList = document.createElement('div');
        productList.className = 'product-list';
        matches.forEach(product => {
          const productDiv = document.createElement('div');
          productDiv.className = 'product';
          productDiv.innerHTML = `
            <img src="${product.image}" alt="${product.name}" />
            <h3>${product.name}</h3>
            <p>Category: ${product.category}</p>
            <p>Price: R${product.price.toLocaleString()}</p>
            <button class="add-to-cart">Add to Cart</button>
          `;
          productDiv.querySelector('.add-to-cart').addEventListener('click', () => {
            addToCart(product);
          });
          productList.appendChild(productDiv);
        });
        resultsSection.appendChild(productList);
        categoriesContainer.appendChild(resultsSection);
      }
    }

    // Only ONE event handler for search:
    productSearch.addEventListener('input', (e) => {
      const text = e.target.value.trim();
      renderCategories(text);
    });

    function addToCart(product) {
      cart.push(product);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartUI();
    }

    function updateCartUI() {
      cart = JSON.parse(localStorage.getItem('cart')) || [];
      cartCount.textContent = cart.length;
      if (cart.length === 0) {
        cartDropdown.innerHTML = '<p class="empty">Your cart is empty</p>';
      } else {
        let html = '<ul>';
        cart.forEach((item) => {
          html += `<li>${item.name} - R${item.price.toLocaleString()}</li>`;
        });
        html += '</ul>';
        const total = cart.reduce((acc, cur) => acc + cur.price, 0);
        html += `<strong>Total: R${total.toLocaleString()}</strong>`;
        cartDropdown.innerHTML = html;
      }
    }

    // Toggle cart dropdown when clicking cart icon
    cartToggle.addEventListener('click', () => {
      if (cartDropdown.style.display === 'block') {
        cartDropdown.style.display = 'none';
      } else {
        cartDropdown.style.display = 'block';
      }
    });

    // Hide cart dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.cart-icon') && !e.target.closest('#cart-dropdown')) {
        cartDropdown.style.display = 'none';
      }
    });

    // Handle checkout form submission
    const checkoutForm = document.getElementById('checkout-form');
    const loadingDiv = document.getElementById('loading');
    checkoutForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      if (cart.length === 0) {
        alert('Your cart is empty! Add some products first.');
        return;
      }
      loadingDiv.style.display = 'block';

      const specialInstructions = document.getElementById('special-instructions').value.trim();
      const uploadInput = document.getElementById('upload-image');
      const uploadedFile = uploadInput.files[0];
      const email = checkoutForm.querySelector('input[name="email"]').value;

      let orderSummary = 'Order Summary:\n\n';
      cart.forEach(item => {
        orderSummary += `${item.name} - R${item.price.toLocaleString()}\n`;
      });
      const formData = new FormData();
      formData.append('specialInstructions', specialInstructions);
      formData.append('uploadImage', uploadedFile);
      formData.append('orderSummary', orderSummary);
      formData.append('cart', JSON.stringify(cart));
      formData.append('email', email);

      try {
        const response = await fetch('/checkout', {
          method: 'POST',
          body: formData,
        });

        loadingDiv.style.display = 'none';

        if (response.ok) {
          alert('Order placed!\n\n' + orderSummary);
          clearCart();
          checkoutForm.reset();
        } else {
          alert('There was an error placing your order. Please try again.');
        }
      } catch (error) {
        loadingDiv.style.display = 'none';
        alert('An unexpected error occurred.');
      }
    });

    function clearCart() {
      cart = [];
      localStorage.removeItem('cart');
      updateCartUI();
    }

    // Initial render
    renderCategories();
    updateCartUI();
  </script>
</body>
</html>